<style>    .imgdiv{         float: left;          margin: 6px 6px;           border: solid 8px #fff;          position:relative;    }    .imgdiv1{         float: left;          margin: 6px 6px;           border: solid 8px #fff;          position:relative;         width: 200px;         height: 112px;         background-color: #000;    }     .playimg,.playimg1{        width: 20%;         left: 40%;         position: absolute;         top: 40%;         cursor:pointer;    }</style><div id="main"><div id="content"><h2 id="pageTitle">Torqkd TV (Only Admin)</h2><?php Yii::import('zii.widgets.ButtonColumn');  ?><?php$this->widget('bootstrap.widgets.TbButton',array(    'label' => 'Add',    'type' => 'primary',    'size' => 'small',    'url' => Yii::app()->request->baseUrl.'/video/admin/video/add',    'htmlOptions' => array('style'=>'float:right')));?><?php$this->widget('bootstrap.widgets.TbButton',array(    'label' => 'Show All',    'type' => 'primary',    'size' => 'small',    //'url' => Yii::app()->request->baseUrl.'/sportsmanager/admin/sports/add',    'htmlOptions' => array('style'=>'float:right;margin-right:15px','id'=>'refresh')));?><?php$this->widget('bootstrap.widgets.TbExtendedGridView', array(    'type' => 'striped bordered',    // 'dataProvider' => new CActiveDataProvider('dev',array(    // 'criteria'=>array('condition'=>'id < 95'))  // only the values of the corresponding ids with less than 5 value will get                                                       displayed    // ),    'dataProvider'=>$model->search(),    'template' => "{summary}{items}{pager}",    'id' =>'user-grid',    'ajaxUrl'=> Yii::app()->request->getUrl(),    //---------------------------------------------- this widget code is written add a bulk action------    'bulkActions' => array(        'actionButtons' => array(            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Delete All',                'click' => 'js:function(checked){            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.ajax({            type: "POST",            url:base_url+"/video/admin/video/deleteall",             data: {ids:values.join(",")},            success:function(data){            $(".idcheckbox" ).each(function( index ) { //to delete the tr that has been deleted.                var chkid=($(this).children().val());       //here this refers to td then its child input value is selected.            var ckhflag=($.inArray(chkid,values));    //here it is being check whether chkid is in the array value or not.            //            if(ckhflag!=-1)            //            {            //            $(this).parent().slideUp(500);            //$(this).parent().remove();            //            }            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            }            });            }'            ),            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Active Selected',                'click' => 'js:function(checked){            bootbox.dialog(\'Processing.. Please wait\');            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.post(base_url+\'/video/admin_video/bulkupdate\',            {values:values,attr:\'isactive\',status:1},function(res){            bootbox.hideAll();            bootbox.alert("Your selected Video has been successfully activated.");            $(\'#yw0_c0_all\').attr(\'checked\',false);            checked.each(function(){            $(this).attr(\'checked\',false);            var togClassI=$(this).parent("td").parent("tr").children("#st").children("a").children("i");            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            });            }'            ),            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Deactive Selected',                //'click' => 'js:function(values){console.log(values);}',                'click' => 'js:function(checked){            bootbox.dialog(\'Processing.. Please wait\');            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.post(base_url+\'/video/admin_video/bulkupdate\',            {values:values,attr:\'isactive\',status:0},function(res){            bootbox.hideAll();            bootbox.alert("Your selected Video has been successfully deactivated.");            $(\'#yw0_c0_all\').attr(\'checked\',false);            checked.each(function(){            $(this).attr(\'checked\',false);            var togClassI=$(this).parent("td").parent("tr").children("#st").children("a").children("i");            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            });            }'            ),        ),        // if grid doesn't have a checkbox column type, it will attach        //one and this configuration will be part of it        'checkBoxColumnConfig' => array(            'name' => 'id',            'htmlOptions'=>array('class'=>'idcheckbox'),            //'class'=>'idcheck'            // 'idval'=>'{data}'        ),    ),    //----------------------------------------------End of bulk action-------    'enablePagination' => true,    'summaryText'=>'Displaying {start}-{end} of {count} results.',    'filter'=>$model,    'columns' => array(        array(            'class' => 'bootstrap.widgets.TbDataColumn',            'name' => 'name',            'filter' => false,           'id'=>'$data[id]',                 'value' => '($data->type)?"<div class=\"imgdiv\"><img src=\"//i1.ytimg.com/vi/".$data->name."/mqdefault.jpg\" alt=\"Thumbnail\" width=\"200px\"><img class=\"playimg\" src=\"".Yii::app()->theme->baseUrl."/images/youplay.png\" alt=\"Play Video\"></div>":"<div class=\"imgdiv1\" ><img class=\"playimg1\" src=\"".Yii::app()->theme->baseUrl."/images/youplay.png\" alt=\"Play Video\"></div>"',              'sortable'=>true,               'type'=>'html',                        ),        array(            'class' => 'bootstrap.widgets.TbEditableColumn',            'name' => 'title',            'filter' => CHtml::activeTextField($model, 'title'),            'value' => '$data->title',            'id'=>'$data[id]',            'sortable'=>true,            'editable' => array(                'url' => $this->createUrl('admin/video/EditableSaver'),                'placement' => 'right',                'inputclass' => 'span3',                'validate' => 'js: function(value){            if($.trim(value) == "") return "This field is required";            }'            ),        ),                                array(            'class' => 'bootstrap.widgets.TbEditableColumn',            'name' => 'time',            'filter' => false,            'value' => 'date("m/d/y",$data->time)',            'id'=>'$data[id]',            'header'=>'Date',            'sortable'=>true,            'editable' => array(                'url' => $this->createUrl('admin/video/EditableSaver'),                'placement' => 'right',                'inputclass' => 'span3',                'validate' => 'js: function(value){            if($.trim(value) == "") return "This field is required";            }'            ),        ),             array(            'class'=>'bootstrap.widgets.TbToggleColumn',            'toggleAction'=>'admin/video/toggle',            'displayText'=>true,            'checkedButtonLabel'=>'Active',            'uncheckedButtonLabel'=>'Inactive',            'sortable'=>true,            'htmlOptions'=>array('id'=>'st','onclick'=>'toggle(this)'),            'name' => 'isactive',            'header' => 'Status',            'afterToggle'=>'function(success,data){ if (success)             {            if(bulkstatus!=1)            {            bootbox.hideAll();            if($(sel).children().children().attr("class")=="icon-ok-circle")            bootbox.alert("Video is deactivated");            if($(sel).children().children().attr("class")=="icon-remove-sign")            bootbox.alert("Video is activated");            }            }            }',        ),                             /*   array(            'class'=>'bootstrap.widgets.TbToggleColumn',            'toggleAction'=>'admin/video/toggle1',            'displayText'=>true,            'checkedButtonLabel'=>'Active',            'uncheckedButtonLabel'=>'Inactive',            'sortable'=>true,            //'htmlOptions'=>array('id'=>'st','onclick'=>'toggle(this)'),            'name' => 'showmaintv',            'header' => 'Show in Main Tv',                    ),*/                        array(            'class' => 'bootstrap.widgets.TbDataColumn',            'name' => 'type',            'filter' => CHtml::activeDropDownList($model, 'type',array(''=>"All",0=>'Desktop',1=>'Youtube')),            'value' => '($data->type == 0)?"Desktop":"Youtube"',            'id'=>'$data[id]',            'sortable'=>true,                    ),       array        (            'class'=>'ButtonColumn',            'template'=>'{dialog2}</br>{d3}</br>{d4}',            'evaluateID'=>true,            //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",            'header'=>'Actions',            'buttons'=>array            (               'dialog2' => array                (                    'label'=>'Delete',                    //'options' => array('id'=>'$data->id'),                    'url'=>'yii::app()->controller->createUrl("admin/video/deletedata",array("id"=>$data->id))',                    'options'=>array('title'=>'You can delete the sports data from  system '),                    //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",                ),               'd3' => array            (            'label'=>'',            'options' => array('id'=>'\'\'.$data->id','rel' => 'tooltip', 'data-toggle' => 'tooltip','title'=>'view video'),            'click'=>'function(){            var val = $(this).attr("id");            //alert(val);            $.post(base_url+"/video/admin/video/showvideo",{"id":val},function(res){            $("#myModal1").modal(\'show\');                        $("#swdesc1").find("a").attr("href",base_url+"/uploads/video/converted/"+res);             flowplayer("player" ,base_url+"/swf/flowplayer.commercial-3.2.15.swf",{clip:{autoPlay:false}});                  })            }',            'visible'=>'$data->type ==0',              ),                                    'd4' => array            (            'label'=>'',            'options' => array('id'=>'\'\'.$data->id','rel' => 'tooltip', 'data-toggle' => 'tooltip','title'=>'View Video '),            'click'=>'function(){            var val = $(this).attr("id");            //alert(val);            $.post(base_url+"/video/admin/video/showvideo",{"id":val},function(res){            $("#myModal2").modal(\'show\');            var html="<object><a id=\"relate\" class=\"youflow\" href=\"api:"+res+"\" style=\"width:480px;height:320px\"></a></object>";            $("#swdesc2").html(html);               play_vid(res);            })            }',            'visible'=>'$data->type == 1',              ),                           ),        ),        //------------------------- End Additional Action Links----------------------------        /*array(            'htmlOptions' => array('nowrap'=>'nowrap'),            'header'=>'ACTION',            'class'=>'bootstrap.widgets.TbButtonColumn',            'template' => '{delete} {update}',   //the bootstrap is modified to remove the view.            'deleteButtonUrl'=>'Yii::app()->controller->createUrl("admin/sports/deletedata", array("id"=>$data->id))', //the control is redirected to role/delete with the id value.            'updateButtonUrl'=>'yii::app()->controller->createUrl("admin/sports/updatedata",array("id"=>$data->id))',        )*/    )));?></div><?php $this->beginWidget(    'bootstrap.widgets.TbModal',    array('id' => 'myModal')); ?><div class="modal-header">    <a class="close" data-dismiss="modal">&times;</a>    <h4>Sports Description:</h4></div><div class="modal-body" id="swdesc"></div><div class="modal-footer">    <?php $this->widget(        'bootstrap.widgets.TbButton',        array(            'label' => 'Close',            'url' => '#',            'htmlOptions' => array('data-dismiss' => 'modal','class'=>'modal-btn'),        )    ); ?></div><?php $this->endWidget(); ?>    <?php $this->beginWidget(        'bootstrap.widgets.TbModal',        array('id' => 'myModal1')        ); ?>    <div class="modal-header">        <a class="close" data-dismiss="modal">&times;</a>        <h4>Video</h4>    </div>    <div class="modal-body" id="swdesc1">        <!--<input class="vid_id" type="text" readonly="readonly" style="margin: 10px;">  -->        <a href="res" id="player"  style="display:block;width:400px;height:300px;margin:10px;padding:1px;border:2px solid #ccc" > </a>    </div>         <?php $this->endWidget(); ?>                <?php $this->beginWidget(        'bootstrap.widgets.TbModal',        array('id' => 'myModal2')        ); ?>    <div class="modal-header">        <a class="close" data-dismiss="modal">&times;</a>        <h4>Video</h4>    </div>    <div class="modal-body" id="swdesc2" style="height: 500px;">    <!--<object width="100%" height="100%"><a id="related" class="youflow" href="api:Q_6qRyYn-68" style="width:480px;height:320px"></a></object>-->                 </div>    </div>         <?php $this->endWidget(); ?></div></div><script type="text/javascript">function play_vid(vidid){                                        $f("relate", "<?php echo yii::app()->getBaseUrl(true) ?>/swf/flowplayer.swf", {                                            plugins:  {                                                youtube: {                                                    url:'<?php echo yii::app()->getBaseUrl(true) ?>/swf/flowplayer.youtube-3.2.11.swf',                                                    enableGdata: false,                                                    loadOnStart: false,                                                    displayErrors: true                                                }                                            },                                            clip: {                                                provider: 'youtube',                                                url: 'api:'+vidid,                                                autoPlay: false,                                                //duration: 10                                                //autoBuffering: true                                            },                                        }) }                                      </script>