<div id="main"><div id="content"><h2 id="pageTitle">Banner</h2><?php Yii::import('zii.widgets.ButtonColumn');  ?><?php$this->widget('bootstrap.widgets.TbButton',array(    'label' => 'Add',    'type' => 'primary',    'size' => 'small',    'url' => Yii::app()->request->baseUrl.'/banner/admin/banner/add',    'htmlOptions' => array('style'=>'float:right')));?>      <?php$this->widget('bootstrap.widgets.TbButton',array(    'label' => 'Show All',    'type' => 'primary',    'size' => 'small',    //'url' => Yii::app()->request->baseUrl.'/sportsmanager/admin/sports/add',    'htmlOptions' => array('style'=>'float:right;margin-right:15px','id'=>'refresh')));?><?php$this->widget('bootstrap.widgets.TbExtendedGridView', array(    'type' => 'striped bordered',    // 'dataProvider' => new CActiveDataProvider('dev',array(    // 'criteria'=>array('condition'=>'id < 95'))  // only the values of the corresponding ids with less than 5 value will get                                                       displayed    // ),    'dataProvider'=>$model->search(),    'template' => "{summary}{items}{pager}",    'id' =>'user-grid',    //'afterAjaxUpdate'=>'function(id, data){upgradegridjs();}',    //---------------------------------------------- this widget code is written add a bulk action------    'bulkActions' => array(        'actionButtons' => array(            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Delete All',                'click' => 'js:function(checked){            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.ajax({            type: "POST",            url:base_url+"/banner/admin/banner/deleteall",            data: {ids:values.join(",")},            success:function(data){            $(".idcheckbox" ).each(function( index ) { //to delete the tr that has been deleted.                var chkid=($(this).children().val());       //here this refers to td then its child input value is selected.            var ckhflag=($.inArray(chkid,values));    //here it is being check whether chkid is in the array value or not.            //            if(ckhflag!=-1)            //            {            //            $(this).parent().slideUp(500);            //$(this).parent().remove();            //            }            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            }            });            }'            ),            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Active Selected',                'click' => 'js:function(checked){            bootbox.dialog(\'Processing.. Please wait\');            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.post(base_url+\'/banner/admin_banner/bulkupdate\',            {values:values,attr:\'isactive\',status:1},function(res){            bootbox.hideAll();            bootbox.alert("Your selected Sport has been successfully activated.");            $(\'#yw0_c0_all\').attr(\'checked\',false);            checked.each(function(){            $(this).attr(\'checked\',false);            var togClassI=$(this).parent("td").parent("tr").children("#st").children("a").children("i");            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            });            }'            ),            array(                'buttonType' => 'button',                'type' => 'primary',                'size' => 'small',                'class'=>'btn',                'label' => 'Deactive Selected',                //'click' => 'js:function(values){console.log(values);}',                'click' => 'js:function(checked){            bootbox.dialog(\'Processing.. Please wait\');            var values = [];            checked.each(function(){            values.push($(this).val());            });            $.post(base_url+\'/banner/admin_banner/bulkupdate\',            {values:values,attr:\'isactive\',status:0},function(res){            bootbox.hideAll();            //bootbox.alert("Your selected Sport has been successfully deactivated.");            $(\'#yw0_c0_all\').attr(\'checked\',false);            checked.each(function(){            $(this).attr(\'checked\',false);            var togClassI=$(this).parent("td").parent("tr").children("#st").children("a").children("i");            });            var grid= "user-grid";            $.fn.yiiGridView.update(grid);            });            }'            ),        ),        // if grid doesn't have a checkbox column type, it will attach        //one and this configuration will be part of it        'checkBoxColumnConfig' => array(            'name' => 'id',            'htmlOptions'=>array('class'=>'idcheckbox'),            //'class'=>'idcheck'            // 'idval'=>'{data}'        ),    ),    //----------------------------------------------End of bulk action-------    'enablePagination' => true,    'summaryText'=>'Displaying {start}-{end} of {count} results.',    'filter'=>$model,    'columns' => array(        array(            'class' => 'bootstrap.widgets.TbEditableColumn',            'name' => 'pagename',            // 'filter'=>false,            'filter' => CHtml::activeTextField($model, 'pagename'),            'value' => '$data->pagename',                       'id'=>'$data[id]',            'sortable'=>true,           'editable' => array(                'url' => $this->createUrl('admin/banner/EditableSaver'),                'placement' => 'right',                'inputclass' => 'span3',                'validate' => 'js: function(value){            if($.trim(value) == "") return "This field is required";            }'            ),        ),        array(            'class' => 'bootstrap.widgets.TbEditableColumn',            'name' => 'priority',            // 'filter'=>false,            'filter' => CHtml::activeTextField($model, 'priority'),            'value' => '$data->priority',            'id'=>'$data[id]',            'sortable'=>true,            'editable' => array(                'url' => $this->createUrl('admin/banner/EditableSaver'),                'placement' => 'right',                'inputclass' => 'span3',                'validate' => 'js: function(value){            if($.trim(value) == "") return "This field is required";            }'            ),        ),        array(            'class'=>'bootstrap.widgets.TbToggleColumn',            'toggleAction'=>'admin/banner/toggle',            'displayText'=>true,            'checkedButtonLabel'=>'Active',            'uncheckedButtonLabel'=>'Inactive',            'sortable'=>false,            'htmlOptions'=>array('id'=>'st','onclick'=>'toggle(this)'),            'name' => 'isactive',            'header' => 'Status',            'afterToggle'=>'function(success,data){ if (success)             {            if(bulkstatus!=1)            {            bootbox.hideAll();            if($(sel).children().children().attr("class")=="icon-ok-circle")            bootbox.alert("Banner is deactivated");            if($(sel).children().children().attr("class")=="icon-remove-sign")            bootbox.alert("Bannner is activated");            }            }            }',        ),              array        (            'class'=>'ButtonColumn',            'template'=>'{delete}</br>{dialog}</br>{d}',            'evaluateID'=>true,            //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",            'header'=>'Actions',            'buttons'=>array            (                'dialog' => array                (                    'label'=>'Image',                    'options' => array('id'=>'\'\'.$data->id','title'=>'You can view the Banner Image '),                    'click'=>'function(){            var val = $(this).attr("id");            //alert(val);            $.post(base_url+"/banner/admin/banner/showcontent",{"id":val},function(res){            //alert(res);            $("#myModal").modal(\'show\');            $("#swdesc").html("<img src=\""+base_url+"/uploads/banner/thumb/"+res+"\">");            })            }',                ),/*                'dialog2' => array                (                    'label'=>'Delete',                    //'options' => array('id'=>'$data->id'),                    'url'=>'yii::app()->controller->createUrl("admin/poll/deletedata",array("id"=>$data->id))',                    'options'=>array('title'=>'You can delete the poll data from  system'),                    'deleteConfirmation'=>'are you sure',                    //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",                ),  */                'd' => array                (                    'label'=>'Edit',                    //'options' => array('id'=>'$data->id'),                                        'url'=>'yii::app()->controller->createUrl("admin/banner/updatedata",array("id"=>$data->id))',                    'options'=>array('title'=>'You can update the Banner data from  system '),                    //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",                     //'click'=>"alert(1)",                  ),       /*         'd2' => array                (                    'label'=>'View Tag',                    //'options' => array('id'=>'$data->id'),                    //'url'=>'yii::app()->controller->createUrl("admin/sports/updatedata",array("id"=>$data->id))',                    'options'=>array('id'=>'\'\'.$data->tag','title'=>'You can view the sports tags  from  system ','class'=>'tag' ),                    //'deleteConfirmation'=>"js:'Record with ID '+$(this).parent().parent().children(':first-child').text()+' will be deleted! Continue?'",                ),    */                    ),        ),        //------------------------- End Additional Action Links----------------------------        /*array(            'htmlOptions' => array('nowrap'=>'nowrap'),            'header'=>'ACTION',            'class'=>'bootstrap.widgets.TbButtonColumn',            'template' => '{delete} {update}',   //the bootstrap is modified to remove the view.            'deleteButtonUrl'=>'Yii::app()->controller->createUrl("admin/sports/deletedata", array("id"=>$data->id))', //the control is redirected to role/delete with the id value.            'updateButtonUrl'=>'yii::app()->controller->createUrl("admin/sports/updatedata",array("id"=>$data->id))',        )*/    )));?></div><?php $this->beginWidget(    'bootstrap.widgets.TbModal',    array('id' => 'myModal')); ?><div class="modal-header">    <a class="close" data-dismiss="modal">&times;</a>    <h4>Banner Image:</h4></div><div class="modal-body" id="swdesc"></div><?php $this->endWidget(); ?></div></div>